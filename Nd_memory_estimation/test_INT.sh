#!/bin/bash

# $dim $perm $size_of_data_type $num sub tensor 
PARAMS=("2 2 85937500 2 2 5 4 3 2 1 4 1 0.01"\
        "2 171875000 2 2 4 3 2 1 4 1 0.01"\
        "2 85937500 4 2 1 3 2 4 4 1 0.01"\
        "2 42968750 8 2 1 3 2 4 4 1 0.01"\
        "2 21484375 16 2 1 3 2 4 4 1 0.01"\
        "2 10742187 32 2 1 3 2 4 4 1 0.01"\
        "2 5371093 64 2 1 3 2 4 4 1 0.01"\
        "2 2685546 128 2 1 3 2 4 4 1 0.01"\
        "2 1342773 256 2 1 3 2 4 4 1 0.01"\
        "2 671386 512 2 1 3 2 4 4 1 0.01"\
        "2 335693 1024 2 1 3 2 4 4 1 0.01"\
        "2 167846 2048 2 1 3 2 4 4 1 0.01"\
        "2 83923 4096 2 1 3 2 4 4 1 0.01"\
        "2 41961 8192 2 1 3 2 4 4 1 0.01"\
        "2 20980 16384 2 1 3 2 4 4 1 0.01"\
        "2 16384 20980 2 1 3 2 4 4 1 0.01"\
        "2 8192 41960 2 1 3 2 4 4 1 0.01"\
        "2 4096 83920 2 1 3 2 4 4 1 0.01"\
        "2 2048 167840 2 1 3 2 4 4 1 0.01"\
        "2 1024 335680 2 1 3 2 4 4 1 0.01"\
        "2 512 671360 2 1 3 2 4 4 1 0.01"\
        "2 256 1342720 2 1 3 2 4 4 1 0.01"\
        "2 128 2685440 2 1 3 2 4 4 1 0.01"\
        "2 64 5370880 2 1 3 2 4 4 1 0.01"\
        "2 32 10741760 2 1 3 2 4 4 1 0.01"\
        "2 16 21483520 2 1 3 2 4 4 1 0.01"\
        "2 8 42967040 2 1 3 2 4 4 1 0.01"\
        "2 4 85934080 2 1 3 2 4 4 1 0.01"\
        "2 2 171868160 2 1 3 2 4 4 1 0.01"\
)

for ((i=0;i<${#PARAMS[@]};++i)) ; do
        echo "Case $i"
        ./test_inplace ${PARAMS[$i]}
    done